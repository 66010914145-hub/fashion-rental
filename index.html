<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fashion Rental - ‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        html { scroll-behavior: smooth; }
        body { box-sizing: border-box; font-family: 'Sarabun', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-hover { transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1); }
        .hero-bg { background-color: #E0F7FA; color: #333; }
        header { background-color: #F3E5F5; }
        .hero-bg > div, .hero-bg::before { position: relative; z-index: 2; }
        input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
        input[type=number] { -moz-appearance: textfield; }
        #searchBar.hidden { display: none; }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-50">

    <header class="shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-2">
                    <div class="w-10 h-10 gradient-bg rounded-full flex items-center justify-center">
                        <span class="text-white font-bold text-lg">FR</span>
                    </div>
                    <h1 class="text-2xl font-bold text-gray-800">Fashion Rental</h1>
                </div>
                <nav class="hidden md:flex space-x-8 items-center">
                    <a href="#" class="text-gray-600 hover:text-purple-600 transition-colors">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
                    <a href="#women" class="text-gray-600 hover:text-purple-600 transition-colors">‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á</a>
                    <a href="#men" class="text-gray-600 hover:text-purple-600 transition-colors">‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢</a>
                     <div id="searchBar" class="relative hidden">
                        <input type="text" id="searchInput" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå..." class="px-4 py-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-purple-400 w-64">
                    </div>
                </nav>
                <div class="flex items-center space-x-4">
                    <button id="adminButton" class="text-sm px-3 py-1 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors">Admin</button>
                    <button id="searchButton" class="p-2 text-gray-600 hover:text-purple-600 transition-colors" aria-label="Search">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                    </button>
                    <button id="cartButton" class="p-2 text-gray-600 hover:text-purple-600 transition-colors relative" aria-label="Shopping Cart">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L4.5 18M7 13h10m0 0l-2.5 5m-4.5-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01" /></svg>
                        <span id="cartCounter" class="absolute -top-2 -right-2 bg-purple-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">0</span>
                    </button>
                    <div class="relative">
                        <button id="userButton" class="bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
                        <div id="userDropdown" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50">
                            <a href="#" id="editProfileLink" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</a>
                            <a href="#" id="orderHistoryLink" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤</a>
                            <a href="#" id="logoutButton" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main id="mainContent">
        <section id="hero-banner" class="hero-bg py-24 md:py-36 text-center">
            <div class="container mx-auto px-4 fade-in">
                <h2 class="text-4xl md:text-6xl font-extrabold mb-4 drop-shadow-lg text-gray-800">‡πÄ‡∏ä‡πà‡∏≤‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå‡∏î‡∏±‡∏á ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ã‡∏∑‡πâ‡∏≠!</h2>
                <p class="text-xl md:text-2xl mb-8 font-light drop-shadow-lg text-gray-700">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∏‡∏î‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥ ‡πÉ‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏Å‡∏©‡πå‡πÇ‡∏•‡∏Å</p>
                <button class="bg-purple-600 text-white font-bold px-8 py-3 rounded-full text-lg hover:bg-purple-700 transition-transform transform hover:scale-105 shadow-xl">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏•‡∏¢</button>
            </div>
        </section>

        <section class="py-16 bg-white" id="categories">
            <div class="container mx-auto px-4">
                <h3 class="text-3xl font-bold text-center mb-12 text-gray-800">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏°‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8 max-w-xl mx-auto">
                    <a href="#women" class="text-center card-hover cursor-pointer p-6 rounded-xl border border-gray-200">
                        <div class="w-24 h-24 mx-auto mb-4 bg-gradient-to-br from-pink-400 to-purple-600 rounded-full flex items-center justify-center shadow-lg"><span class="text-4xl">‚ôÄÔ∏è</span></div>
                        <h4 class="text-xl font-semibold mb-2 text-gray-800">‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á</h4>
                        <p class="text-gray-600 text-sm">‡πÄ‡∏î‡∏£‡∏™ ‡πÄ‡∏™‡∏∑‡πâ‡∏≠ ‡∏Å‡∏£‡∏∞‡πÇ‡∏õ‡∏£‡∏á ‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á</p>
                    </a>
                    <a href="#men" class="text-center card-hover cursor-pointer p-6 rounded-xl border border-gray-200">
                        <div class="w-24 h-24 mx-auto mb-4 bg-gradient-to-br from-blue-400 to-indigo-600 rounded-full flex items-center justify-center shadow-lg"><span class="text-4xl">‚ôÇÔ∏è</span></div>
                        <h4 class="text-xl font-semibold mb-2 text-gray-800">‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢</h4>
                        <p class="text-gray-600 text-sm">‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î ‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÄ‡∏ä‡∏¥‡πâ‡∏ï ‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á</p>
                    </a>
                </div>
            </div>
        </section>

        <section id="rental-policy" class="py-16 bg-gray-50">
            <div class="container mx-auto px-4">
                <h3 class="text-3xl font-bold text-center mb-12 text-gray-800">‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                    <div class="bg-white p-8 rounded-xl shadow-md border border-gray-200 text-center">
                        <div class="text-5xl mb-4">‚è±Ô∏è</div>
                        <h4 class="text-xl font-semibold text-gray-800 mb-2">‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∑‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏•‡πà‡∏≤‡∏ä‡πâ‡∏≤</h4>
                        <p class="text-gray-600">‡∏Å‡∏£‡∏ì‡∏µ‡∏Ñ‡∏∑‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏•‡πà‡∏≤‡∏ä‡πâ‡∏≤‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≥‡∏´‡∏ô‡∏î ‡∏à‡∏∞‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏õ‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡∏•‡∏∞ <strong class="text-red-500">50 ‡∏ö‡∏≤‡∏ó</strong> ‡∏ï‡πà‡∏≠‡∏ä‡∏¥‡πâ‡∏ô</p>
                    </div>
                    <div class="bg-white p-8 rounded-xl shadow-md border border-gray-200 text-center">
                        <div class="text-5xl mb-4">üíî</div>
                        <h4 class="text-xl font-semibold text-gray-800 mb-2">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ä‡∏≥‡∏£‡∏∏‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢</h4>
                        <p class="text-gray-600">‡∏Å‡∏£‡∏ì‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ä‡∏≥‡∏£‡∏∏‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡∏à‡∏ô‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏ã‡∏°‡πÑ‡∏î‡πâ ‡∏ó‡∏≤‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏Ç‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô <strong class="text-red-500">5 ‡πÄ‡∏ó‡πà‡∏≤</strong> ‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏ä‡πà‡∏≤</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-16 bg-white" id="women">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center mb-12 text-gray-800">‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8" id="women-product-list"></div>
            </div>
        </section>

        <section class="py-16 bg-gray-50" id="men">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center mb-12 text-gray-800">‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8" id="men-product-list"></div>
            </div>
        </section>
    </main>

    <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl p-8 max-w-md w-full">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-gray-800">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</h3>
                <button id="closeLogin" class="text-gray-500 hover:text-gray-700 text-3xl">&times;</button>
            </div>
            <form id="loginForm">
                <div class="mb-4"><label class="block text-gray-700 text-sm font-bold mb-2">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label><input type="email" id="loginEmail" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600" required></div>
                <div class="mb-6"><label class="block text-gray-700 text-sm font-bold mb-2">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label><input type="password" id="loginPassword" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600" required></div>
                <button type="submit" class="w-full bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700 transition-colors">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
                <p class="text-center text-gray-600 mt-4">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ? <a href="#" id="showRegister" class="text-purple-600 hover:underline">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</a></p>
            </form>
        </div>
    </div>

    <div id="registerModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl p-8 max-w-md w-full">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-gray-800">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h3>
                <button id="closeRegister" class="text-gray-500 hover:text-gray-700 text-3xl">&times;</button>
            </div>
            <form id="registerForm">
                <div class="mb-4"><label class="block text-gray-700 text-sm font-bold mb-2">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label><input type="text" id="registerName" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600" required></div>
                <div class="mb-4"><label class="block text-gray-700 text-sm font-bold mb-2">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label><input type="email" id="registerEmail" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600" required></div>
                <div class="mb-6"><label class="block text-gray-700 text-sm font-bold mb-2">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label><input type="password" id="registerPassword" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600" required></div>
                <button type="submit" class="w-full bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700 transition-colors">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</button>
                <p class="text-center text-gray-600 mt-4">‡∏°‡∏µ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÅ‡∏•‡πâ‡∏ß? <a href="#" id="showLogin" class="text-purple-600 hover:underline">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</a></p>
            </form>
        </div>
    </div>

    <div id="editProfileModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl p-8 max-w-md w-full">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-gray-800">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</h3>
                <button id="closeEditProfile" class="text-gray-500 hover:text-gray-700 text-3xl">&times;</button>
            </div>
            <form id="editProfileForm">
                <div class="mb-4"><label class="block text-gray-700 text-sm font-bold mb-2">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label><input type="text" id="editName" class="w-full px-3 py-2 border border-gray-300 rounded-lg" required></div>
                <div class="mb-4"><label class="block text-gray-700 text-sm font-bold mb-2">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label><input type="email" id="editEmail" class="w-full px-3 py-2 border border-gray-300 rounded-lg" required></div>
                <div class="mb-6"><label class="block text-gray-700 text-sm font-bold mb-2">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)</label><input type="password" id="editPassword" class="w-full px-3 py-2 border border-gray-300 rounded-lg"></div>
                <button type="submit" class="w-full bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            </form>
        </div>
    </div>
    
    <div id="cartModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl p-8 max-w-lg w-full">
            <div class="flex justify-between items-center mb-6"><h3 class="text-2xl font-bold text-gray-800">‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3><button id="closeCart" class="text-gray-500 hover:text-gray-700 text-3xl">&times;</button></div>
            <div id="cartItemsContainer" class="max-h-96 overflow-y-auto mb-4"><p id="emptyCartMsg" class="text-gray-500 text-center">‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤</p></div>
            <div class="border-t pt-4">
                <div class="flex justify-between items-center text-xl font-bold"><span>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°:</span><span id="cartTotal">‡∏ø0</span></div>
                <button id="checkoutButton" class="mt-4 w-full bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700 disabled:bg-gray-400">‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</button>
            </div>
        </div>
    </div>

    <div id="checkoutModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl p-8 max-w-md w-full">
            <div class="flex justify-between items-center mb-6"><h3 class="text-2xl font-bold text-gray-800">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡πÄ‡∏ä‡πà‡∏≤</h3><button id="closeCheckout" class="text-gray-500 hover:text-gray-700 text-3xl">&times;</button></div>
            <div id="checkoutSummary" class="mb-6 border-b pb-4"></div>
            <form id="paymentForm">
                <h4 class="text-lg font-semibold mb-3">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h4>
                <div class="space-y-3">
                    <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50"><input type="radio" name="paymentMethod" value="cod" class="mr-3" checked><span>‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á</span></label>
                    <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50"><input type="radio" name="paymentMethod" value="transfer" class="mr-3"><span>‡πÇ‡∏≠‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£</span></label>
                </div>
                <div id="bankInfo" class="hidden mt-4 p-4 bg-blue-50 border-blue-200 rounded-lg text-sm"><p class="font-bold">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏°‡∏≤‡∏ó‡∏µ‡πà:</p><p>‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£: ‡∏Å‡∏™‡∏¥‡∏Å‡∏£‡πÑ‡∏ó‡∏¢</p><p>‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ç‡∏ä‡∏µ: ‡∏ö‡∏à‡∏Å. ‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô‡πÄ‡∏£‡∏ô‡∏ó‡∏±‡∏•</p><p>‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ç‡∏ä‡∏µ: 123-4-56789-0</p></div>
                <button type="submit" class="mt-6 w-full bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠</button>
            </form>
        </div>
    </div>
    
    <div id="addressModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl p-8 max-w-md w-full">
            <div class="flex justify-between items-center mb-6"><h3 class="text-2xl font-bold text-gray-800">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</h3><button id="closeAddress" class="text-gray-500 hover:text-gray-700 text-3xl">&times;</button></div>
            <form id="addressForm">
                <div class="mb-3"><label class="block text-gray-700 text-sm font-bold mb-2">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• ‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö</label><input type="text" class="w-full px-3 py-2 border rounded-lg" required></div>
                <div class="mb-3"><label class="block text-gray-700 text-sm font-bold mb-2">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà</label><textarea class="w-full px-3 py-2 border rounded-lg" rows="3" required></textarea></div>
                <div class="mb-4"><label class="block text-gray-700 text-sm font-bold mb-2">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label><input type="tel" class="w-full px-3 py-2 border rounded-lg" required></div>
                <button type="submit" class="w-full bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà</button>
            </form>
        </div>
    </div>

    <div id="thankYouModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl p-12 text-center max-w-md w-full">
            <h3 class="text-3xl font-bold text-green-500 mb-4">‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏∞!</h3>
            <p class="text-gray-700 mb-6">‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡πÄ‡∏ä‡πà‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÅ‡∏•‡πâ‡∏ß</p>
            <button id="closeThankYou" class="w-full bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700">‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
        </div>
    </div>
    
    <div id="adminLoginModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl p-8 max-w-md w-full">
            <div class="flex justify-between items-center mb-6"><h3 class="text-2xl font-bold text-gray-800">Admin Login</h3><button id="closeAdminLogin" class="text-gray-500 hover:text-gray-700 text-3xl">&times;</button></div>
            <form id="adminLoginForm">
                <div class="mb-4"><label class="block text-gray-700 text-sm font-bold mb-2">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</label><input type="text" id="adminUsername" class="w-full px-3 py-2 border rounded-lg" required></div>
                <div class="mb-6"><label class="block text-gray-700 text-sm font-bold mb-2">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label><input type="password" id="adminPassword" class="w-full px-3 py-2 border rounded-lg" required></div>
                <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
            </form>
        </div>
    </div>
    
    <div id="adminDashboardModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl p-8 max-w-6xl w-full max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-gray-800">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Admin Dashboard)</h3>
                <button id="closeAdminDashboard" class="text-gray-500 hover:text-gray-700 text-3xl">&times;</button>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h4 class="text-lg font-semibold mb-3 border-b pb-2">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏™‡∏ï‡πá‡∏≠‡∏Å (Available)</h4>
                    <div id="stockList" class="space-y-3 text-sm max-h-[40vh] overflow-y-auto pr-2"></div>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-3 border-b pb-2">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÄ‡∏ä‡πà‡∏≤‡∏≠‡∏¢‡∏π‡πà (Rented)</h4>
                    <div id="rentedList" class="space-y-3 text-sm max-h-[40vh] overflow-y-auto pr-2"></div>
                </div>
            </div>
            <div class="mt-8 border-t pt-6">
                <h4 class="text-xl font-bold mb-4 text-gray-800">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏™‡∏ï‡πá‡∏≠‡∏Å</h4>
                <form id="addProductForm" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm">
                    <div><label for="newProductName" class="block font-medium text-gray-700">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label><input type="text" id="newProductName" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"></div>
                    <div><label for="newProductBrand" class="block font-medium text-gray-700">‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå</label><input type="text" id="newProductBrand" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"></div>
                    <div><label for="newProductCategory" class="block font-medium text-gray-700">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</label><select id="newProductCategory" required class="mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"><option value="women">‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á</option><option value="men">‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢</option></select></div>
                    <div><label for="newProductPrice" class="block font-medium text-gray-700">‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏ö‡∏≤‡∏ó/3 ‡∏ß‡∏±‡∏ô)</label><input type="number" id="newProductPrice" min="0" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"></div>
                    <div class="md:col-span-2"><label for="newProductImageUrl" class="block font-medium text-gray-700">URL ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</label><input type="url" id="newProductImageUrl" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"></div>
                    <div class="md:col-span-2"><label for="newProductInventory" class="block font-medium text-gray-700">‡πÑ‡∏ã‡∏™‡πå‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</label><input type="text" id="newProductInventory" required placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: S:5, M:10, L:3" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"><p class="text-xs text-gray-500 mt-1">‡πÉ‡∏ä‡πâ‡∏à‡∏∏‡∏•‡∏†‡∏≤‡∏Ñ (,) ‡∏Ñ‡∏±‡πà‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÑ‡∏ã‡∏™‡πå</p></div>
                    <div class="md:col-span-3 flex justify-end"><button type="submit" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button></div>
                </form>
            </div>
            <div class="mt-6 border-t pt-4 flex justify-end"><button id="adminLogoutButton" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö Admin</button></div>
        </div>
    </div>

    <div id="rentalHistoryModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl p-8 max-w-2xl w-full">
            <div class="flex justify-between items-center mb-6"><h3 class="text-2xl font-bold text-gray-800">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h3><button id="closeRentalHistory" class="text-gray-500 hover:text-gray-700 text-3xl">&times;</button></div>
            <div id="rentalHistoryContainer" class="max-h-96 overflow-y-auto space-y-4"></div>
        </div>
    </div>


    <script>
    document.addEventListener('DOMContentLoaded', () => {

        let userDatabase = []; 
        let productDatabase = [
            { id: 1, category: 'women', name: '‡πÄ‡∏î‡∏£‡∏™‡∏™‡∏±‡πâ‡∏ô‡∏•‡∏≤‡∏¢‡∏î‡∏≠‡∏Å', brand: 'Pomelo', price: 190, imageUrl: 'https://img.lazcdn.com/g/p/4145bb1065cf1ab997a392cc67cfbe18.jpg_720x720q80.jpg', inventory: { 's': { total: 3, rented: 0 }, 'm': { total: 3, rented: 0 } }, rentals: [] },
            { id: 2, category: 'women', name: '‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á‡∏¢‡∏µ‡∏ô‡∏™‡πå‡∏Ç‡∏≤‡∏Å‡∏ß‡πâ‡∏≤‡∏á', brand: 'Levi\'s', price: 200, imageUrl: 'https://img.lazcdn.com/g/p/45854c6581e9d27e4f863b20752f91a8.jpg_720x720q80.jpg', inventory: { 's': { total: 2, rented: 0 }, 'm': { total: 3, rented: 0 }, 'l': { total: 2, rented: 0 } }, rentals: [] },
            { id: 3, category: 'women', name: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Ñ‡∏£‡∏≠‡∏õ‡πÑ‡∏´‡∏°‡∏û‡∏£‡∏°', brand: 'Zara', price: 150, imageUrl: 'https://cdn.pomelofashion.com/img/p/5/7/8/9/3/9/578939.jpg', inventory: { 's': { total: 5, rented: 0 }, 'm': { total: 5, rented: 0 } }, rentals: [] },
            { id: 4, category: 'women', name: '‡πÄ‡∏ö‡∏•‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏•‡∏≥‡∏•‡∏≠‡∏á', brand: 'H&M', price: 199, imageUrl: 'https://inwfile.com/s-cq/4rzsqw.jpg', inventory: { 'm': { total: 2, rented: 0 }, 'l': { total: 2, rented: 0 } }, rentals: [] },
            { id: 5, category: 'women', name: '‡∏Å‡∏£‡∏∞‡πÇ‡∏õ‡∏£‡∏á‡∏¢‡∏≤‡∏ß‡∏ú‡πâ‡∏≤‡∏ã‡∏≤‡∏ï‡∏¥‡∏ô', brand: 'Topshop', price: 180, imageUrl: 'https://laz-img-sg.alicdn.com/p/01f672f4c747b16e89fddba921a4dec2.jpg', inventory: { 's': { total: 3, rented: 0 }, 'm': { total: 2, rented: 0 } }, rentals: [] },
            { id: 6, category: 'men', name: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÄ‡∏ä‡∏¥‡πâ‡∏ï‡πÅ‡∏Ç‡∏ô‡∏™‡∏±‡πâ‡∏ô', brand: 'Uniqlo', price: 160, imageUrl: 'https://img.lazcdn.com/g/p/c2946a4fb5a5005d4e37c3d2b03f7cb1.jpg_720x720q80.jpg', inventory: { 'm': { total: 5, rented: 0 }, 'l': { total: 5, rented: 0 } }, rentals: [] },
            { id: 7, category: 'men', name: '‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á‡∏ä‡∏¥‡πÇ‡∏ô', brand: 'Gap', price: 190, imageUrl: 'https://www.khakibros.com/pub/media/catalog/product/cache/9e987a67928cb5ca42d63dba75e70807/w/e/web_b005-3.jpg', inventory: { 'm': { total: 4, rented: 0 }, 'l': { total: 4, rented: 0 }, 'xl': { total: 2, rented: 0 } }, rentals: [] },
            { id: 8, category: 'men', name: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Æ‡∏π‡πâ‡∏î‡∏î‡∏µ‡πâ', brand: 'Adidas', price: 200, imageUrl: 'https://d29c1z66frfv6c.cloudfront.net/pub/media/catalog/product/zoom/162b782baff20aa8a9858edb12cff8444c53b9d7_xxl-1.jpg', inventory: { 'l': { total: 3, rented: 0 }, 'xl': { total: 3, rented: 0 } }, rentals: [] },
            { id: 9, category: 'men', name: '‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á‡∏¢‡∏µ‡∏ô‡∏™‡πå', brand: 'Lee', price: 199, imageUrl: 'https://cdn.shopify.com/s/files/1/0637/1423/0450/files/Mens_Loose.jpg', inventory: { 'm': { total: 4, rented: 0 }, 'l': { total: 3, rented: 0 } }, rentals: [] },
            { id: 10, category: 'men', name: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÇ‡∏õ‡πÇ‡∏•', brand: 'Lacoste', price: 180, imageUrl: 'https://www.phufa.org/wp-content/uploads/2025/09/ext-773.jpg', inventory: { 'm': { total: 5, rented: 0 }, 'l': { total: 5, rented: 0 }, 'xl': { total: 2, rented: 0 } }, rentals: [] },
        ];

        let loggedInUser = null;
        let isAdminLoggedIn = false;
        let cart = [];

        const userButton = document.getElementById('userButton');
        const userDropdown = document.getElementById('userDropdown');
        const cartCounter = document.getElementById('cartCounter');
        const checkoutButton = document.getElementById('checkoutButton');
        const emptyCartMsg = document.getElementById('emptyCartMsg');
        const searchBar = document.getElementById('searchBar');
        const searchInput = document.getElementById('searchInput');
        
        const modals = {
            login: document.getElementById('loginModal'),
            register: document.getElementById('registerModal'),
            editProfile: document.getElementById('editProfileModal'),
            cart: document.getElementById('cartModal'),
            adminLogin: document.getElementById('adminLoginModal'),
            adminDashboard: document.getElementById('adminDashboardModal'),
            checkout: document.getElementById('checkoutModal'),
            address: document.getElementById('addressModal'),
            thankYou: document.getElementById('thankYouModal'),
            rentalHistory: document.getElementById('rentalHistoryModal'),
        };

        const closeModalButtons = {
            login: document.getElementById('closeLogin'),
            register: document.getElementById('closeRegister'),
            editProfile: document.getElementById('closeEditProfile'),
            cart: document.getElementById('closeCart'),
            adminLogin: document.getElementById('closeAdminLogin'),
            adminDashboard: document.getElementById('closeAdminDashboard'),
            checkout: document.getElementById('closeCheckout'),
            address: document.getElementById('closeAddress'),
            thankYou: document.getElementById('closeThankYou'),
            rentalHistory: document.getElementById('closeRentalHistory'),
        };

        const openModal = (modalName) => modals[modalName]?.classList.remove('hidden');
        const closeModal = (modalName) => modals[modalName]?.classList.add('hidden');
        
        const updateUIForLogin = (user) => {
            loggedInUser = user;
            userButton.textContent = user.name;
            closeModal('login');
            closeModal('register');
        };
        
        const updateUIForLogout = () => {
            loggedInUser = null;
            userButton.textContent = '‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö';
            userDropdown.classList.add('hidden');
        };

        const updateCartCounter = () => {
            cartCounter.textContent = cart.length;
            checkoutButton.disabled = cart.length === 0;
            emptyCartMsg.style.display = cart.length === 0 ? 'block' : 'none';
        };

        const renderProducts = (productsToRender, containerId) => {
            const productListEl = document.getElementById(containerId);
            if (!productListEl) return;
            productListEl.innerHTML = '';
            
            if (productsToRender.length === 0) {
                productListEl.innerHTML = `<p class="text-center text-gray-500 col-span-full">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</p>`;
                return;
            }

            productsToRender.forEach(product => {
                const isCompletelyOutOfStock = Object.values(product.inventory).every(inv => inv.total <= inv.rented);
                
                const newProductCard = document.createElement('div');
                newProductCard.className = `bg-white rounded-xl shadow-lg overflow-hidden card-hover product-card ${isCompletelyOutOfStock ? 'opacity-50' : ''}`;
                
                // NEW: Logic for displaying all sizes with disabled state
                let sizeOptions = Object.keys(product.inventory).map(size => {
                    const isAvailable = product.inventory[size].total > product.inventory[size].rented;
                    return `<option value="${size}" ${!isAvailable ? 'disabled' : ''}>
                                ${size.toUpperCase()} ${!isAvailable ? '(‡∏´‡∏°‡∏î)' : ''}
                            </option>`;
                }).join('');

                newProductCard.innerHTML = `
                    <div class="h-64 flex items-center justify-center overflow-hidden relative bg-gray-200"><img src="${product.imageUrl}" class="w-full h-full object-cover" alt="${product.name}" loading="lazy">${isCompletelyOutOfStock ? `<div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center"><span class="text-white font-bold text-xl">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏´‡∏°‡∏î</span></div>` : ''}</div>
                    <div class="p-6">
                        <h4 class="font-semibold text-lg mb-2 product-name">${product.name}</h4><p class="text-gray-600 text-sm mb-3 product-details">‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå ${product.brand}</p>
                        <div class="mb-2"><label class="block text-gray-700 text-sm font-semibold mb-1">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ã‡∏™‡πå</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg productSize" ${isCompletelyOutOfStock ? 'disabled' : ''}>${sizeOptions}</select></div>
                        <div class="mb-2"><label class="block text-gray-700 text-sm font-semibold mb-1">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°</label><input type="date" class="w-full px-3 py-2 border border-gray-300 rounded-lg rentStartDate" ${isCompletelyOutOfStock ? 'disabled' : ''}></div>
                        <div class="mb-2"><label class="block text-gray-700 text-sm font-semibold mb-1">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡πÄ‡∏ä‡πà‡∏≤</label><input type="number" min="1" value="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg rentDays" ${isCompletelyOutOfStock ? 'disabled' : ''}></div>
                        <div class="flex items-center justify-between mt-2">
                            <div><span class="text-2xl font-bold text-purple-600 product-price" data-base-price="${product.price}">‡∏ø${product.price}</span><span class="text-sm text-gray-500 price-duration">/3 ‡∏ß‡∏±‡∏ô</span></div>
                            <button data-product-id="${product.id}" class="rent-button bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 disabled:bg-gray-400" ${isCompletelyOutOfStock ? 'disabled' : ''}>‡πÄ‡∏ä‡πà‡∏≤</button>
                        </div>
                    </div>`;
                productListEl.appendChild(newProductCard);
            });
        };

        const renderCartItems = () => {
            const container = document.getElementById('cartItemsContainer');
            const cartTotalEl = document.getElementById('cartTotal');
            container.innerHTML = ''; 
            if (cart.length === 0) { container.appendChild(emptyCartMsg); }
            let total = 0;
            cart.forEach((item, index) => {
                const itemEl = document.createElement('div');
                itemEl.className = 'flex justify-between items-center mb-2 p-2 border-b';
                itemEl.innerHTML = `<div><p class="font-semibold">${item.name} (‡πÑ‡∏ã‡∏™‡πå ${item.size.toUpperCase()})</p><p class="text-sm text-gray-500">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: ${item.startDate}, ${item.days} ‡∏ß‡∏±‡∏ô</p></div><div class="flex items-center"><span class="font-semibold mr-4">‡∏ø${item.price}</span><button data-index="${index}" class="remove-from-cart text-red-500 hover:text-red-700 text-2xl">&times;</button></div>`;
                container.appendChild(itemEl);
                total += item.price;
            });
            cartTotalEl.textContent = `‡∏ø${total}`;
            updateCartCounter();
        };

        const renderAdminDashboard = () => {
            const stockListEl = document.getElementById('stockList');
            const rentedListEl = document.getElementById('rentedList');
            stockListEl.innerHTML = '';
            rentedListEl.innerHTML = '';
            let allRentals = [];
            productDatabase.forEach(p => {
                const stockItemEl = document.createElement('div');
                stockItemEl.className = 'p-3 border rounded-md bg-gray-50 flex justify-between items-center';
                let stockDetails = Object.entries(p.inventory).map(([size, data]) => `${size.toUpperCase()}: ${data.total} ‡∏ï‡∏±‡∏ß (‡πÄ‡∏ä‡πà‡∏≤‡∏≠‡∏¢‡∏π‡πà ${data.rented})`).join(', ');
                
                // NEW: Added delete button
                stockItemEl.innerHTML = `
                    <div>
                        <p class="font-semibold">${p.name}</p>
                        <p class="text-xs">${stockDetails}</p>
                    </div>
                    <button data-product-id="${p.id}" class="remove-product-btn text-red-500 hover:text-red-700 font-bold text-xl px-2">&times;</button>
                `;
                stockListEl.appendChild(stockItemEl);
                p.rentals.forEach(rental => allRentals.push({productName: p.name, ...rental}));
            });
            if (allRentals.length > 0) {
                allRentals.sort((a, b) => new Date(a.rentUntil) - new Date(b.rentUntil));
                allRentals.forEach(r => {
                    const rentedItemEl = document.createElement('div');
                    rentedItemEl.className = 'p-3 border rounded-md bg-gray-50';
                    rentedItemEl.innerHTML = `<p class="font-semibold">${r.productName} (‡πÑ‡∏ã‡∏™‡πå ${r.size.toUpperCase()})</p><p class="text-xs text-gray-500">‡πÄ‡∏ä‡πà‡∏≤‡πÇ‡∏î‡∏¢: ${r.rentedBy} | ‡∏Ñ‡∏∑‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: ${r.rentUntil}</p>`;
                    rentedListEl.appendChild(rentedItemEl);
                });
            }
            if (stockListEl.innerHTML === '') stockListEl.innerHTML = '<p class="text-gray-400">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏™‡∏ï‡πá‡∏≠‡∏Å</p>';
            if (rentedListEl.innerHTML === '') rentedListEl.innerHTML = '<p class="text-gray-400">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ñ‡∏π‡∏Å‡πÄ‡∏ä‡πà‡∏≤</p>';
        };

        const renderRentalHistory = () => {
            const container = document.getElementById('rentalHistoryContainer');
            container.innerHTML = '';
            if (!loggedInUser) return;
            const userRentals = [];
            productDatabase.forEach(product => {
                product.rentals.forEach(rental => {
                    if (rental.rentedBy === loggedInUser.name) {
                        userRentals.push({ productName: product.name, imageUrl: product.imageUrl, ...rental });
                    }
                });
            });
            if (userRentals.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center">‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤</p>';
                return;
            }
            userRentals.forEach(rental => {
                const itemEl = document.createElement('div');
                itemEl.className = 'flex items-center p-3 border rounded-lg bg-gray-50';
                itemEl.innerHTML = `<img src="${rental.imageUrl}" alt="${rental.productName}" class="w-16 h-16 object-cover rounded-md mr-4"><div><p class="font-semibold">${rental.productName} (‡πÑ‡∏ã‡∏™‡πå ${rental.size.toUpperCase()})</p><p class="text-sm text-gray-600">‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏∑‡∏ô: ${rental.rentUntil}</p></div>`;
                container.appendChild(itemEl);
            });
        };

        const displayAllProducts = () => {
             renderProducts(productDatabase.filter(p => p.category === 'women'), 'women-product-list');
             renderProducts(productDatabase.filter(p => p.category === 'men'), 'men-product-list');
        }

        // --- Event Listeners ---
        document.getElementById('adminButton').addEventListener('click', () => {
            if (isAdminLoggedIn) { renderAdminDashboard(); openModal('adminDashboard'); } 
            else { openModal('adminLogin'); }
        });
        document.getElementById('adminLogoutButton').addEventListener('click', () => {
            isAdminLoggedIn = false;
            closeModal('adminDashboard');
            alert('‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
        });
        userButton.addEventListener('click', () => {
             if (!loggedInUser) openModal('login');
             else userDropdown.classList.toggle('hidden');
        });
        document.getElementById('editProfileLink').addEventListener('click', (e) => { e.preventDefault(); openModal('editProfile'); userDropdown.classList.add('hidden'); });
        document.getElementById('cartButton').addEventListener('click', () => { renderCartItems(); openModal('cart'); });
        document.getElementById('orderHistoryLink').addEventListener('click', (e) => {
            e.preventDefault();
            renderRentalHistory();
            openModal('rentalHistory');
            userDropdown.classList.add('hidden');
        });
        Object.keys(closeModalButtons).forEach(key => {
            closeModalButtons[key]?.addEventListener('click', () => closeModal(key));
        });
        Object.values(modals).forEach(modal => {
            modal?.addEventListener('click', (e) => { if (e.target === modal) modal.classList.add('hidden'); });
        });
        document.getElementById('logoutButton').addEventListener('click', (e) => { e.preventDefault(); alert('‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!'); updateUIForLogout(); });
        document.getElementById('showRegister').addEventListener('click', (e) => { e.preventDefault(); closeModal('login'); openModal('register'); });
        document.getElementById('showLogin').addEventListener('click', (e) => { e.preventDefault(); closeModal('register'); openModal('login'); });

        // --- Form Submissions & Actions ---
        document.getElementById('loginForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const pass = document.getElementById('loginPassword').value;
            const foundUser = userDatabase.find(user => user.email === email && user.password === pass);
            if (foundUser) { alert(`‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì ${foundUser.name}!`); updateUIForLogin(foundUser); } 
            else { alert('‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á'); }
        });
        document.getElementById('registerForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const pass = document.getElementById('registerPassword').value;
            if (userDatabase.find(user => user.email === email)) { alert('‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß'); return; }
            const newUser = { name, email, password: pass };
            userDatabase.push(newUser);
            alert(`‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à, ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì ${name}!`);
            updateUIForLogin(newUser);
        });
        document.getElementById('editProfileForm').addEventListener('submit', (e) => {
            e.preventDefault();
            loggedInUser.name = document.getElementById('editName').value;
            loggedInUser.email = document.getElementById('editEmail').value;
            userButton.textContent = loggedInUser.name;
            alert('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!');
            closeModal('editProfile');
        });
        document.getElementById('adminLoginForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const user = document.getElementById('adminUsername').value;
            const pass = document.getElementById('adminPassword').value;
            if (user === 'Admin' && pass === '123456') {
                isAdminLoggedIn = true;
                alert('‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
                closeModal('adminLogin');
                renderAdminDashboard();
                openModal('adminDashboard');
            } else { alert('‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á'); }
        });
        
        document.getElementById('addProductForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const newProduct = {
                name: document.getElementById('newProductName').value,
                brand: document.getElementById('newProductBrand').value,
                category: document.getElementById('newProductCategory').value,
                price: parseInt(document.getElementById('newProductPrice').value),
                imageUrl: document.getElementById('newProductImageUrl').value,
                inventory: {},
                rentals: []
            };
            const inventoryString = document.getElementById('newProductInventory').value;
            try {
                const pairs = inventoryString.split(',');
                pairs.forEach(pair => {
                    const [size, total] = pair.split(':');
                    if (size && total && !isNaN(parseInt(total))) {
                        newProduct.inventory[size.trim().toLowerCase()] = { total: parseInt(total), rented: 0 };
                    }
                });
                 if (Object.keys(newProduct.inventory).length === 0) throw new Error();
            } catch (error) { alert('‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÑ‡∏ã‡∏™‡πå‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö: S:5, M:10'); return; }
            newProduct.id = productDatabase.length > 0 ? Math.max(...productDatabase.map(p => p.id)) + 1 : 1;
            productDatabase.push(newProduct);
            alert(`‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ '${newProduct.name}' ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!`);
            e.target.reset();
            renderAdminDashboard();
            displayAllProducts();
        });
        
        // NEW: Event listener for removing a product from Admin Dashboard
        document.getElementById('adminDashboardModal').addEventListener('click', (e) => {
            if (e.target.classList.contains('remove-product-btn')) {
                const productId = parseInt(e.target.dataset.productId);
                const productIndex = productDatabase.findIndex(p => p.id === productId);
                if (productIndex > -1) {
                    const productName = productDatabase[productIndex].name;
                    if (confirm(`‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ '${productName}' ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö?`)) {
                        productDatabase.splice(productIndex, 1);
                        alert(`‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ '${productName}' ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`);
                        renderAdminDashboard();
                        displayAllProducts();
                    }
                }
            }
        });
        
        document.getElementById('checkoutButton').addEventListener('click', () => {
            if (!loggedInUser) { alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠'); openModal('login'); return; }
            if (cart.length > 0) {
                const summaryEl = document.getElementById('checkoutSummary');
                const total = cart.reduce((sum, item) => sum + item.price, 0);
                summaryEl.innerHTML = `<p class="text-gray-600">‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡πÄ‡∏ä‡πà‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ${cart.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</p><p class="text-xl font-bold mt-2">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏™‡∏∏‡∏ó‡∏ò‡∏¥: ‡∏ø${total}</p>`;
                closeModal('cart');
                openModal('checkout');
            }
        });

        document.querySelectorAll('input[name="paymentMethod"]').forEach(radio => {
            radio.addEventListener('change', (e) => {
                document.getElementById('bankInfo').classList.toggle('hidden', e.target.value !== 'transfer');
            });
        });

        document.getElementById('paymentForm').addEventListener('submit', (e) => { e.preventDefault(); closeModal('checkout'); openModal('address'); });
        document.getElementById('addressForm').addEventListener('submit', (e) => {
            e.preventDefault();
            cart.forEach(cartItem => {
                const product = productDatabase.find(p => p.id === cartItem.id);
                if (product && product.inventory[cartItem.size]) {
                    product.inventory[cartItem.size].rented++;
                    let returnDate = new Date();
                    returnDate.setDate(returnDate.getDate() + cartItem.days);
                    product.rentals.push({ rentedBy: loggedInUser.name, size: cartItem.size, rentUntil: returnDate.toLocaleDateString('th-TH') });
                }
            });
            cart = [];
            renderCartItems();
            displayAllProducts();
            closeModal('address');
            openModal('thankYou');
        });
        
        document.querySelectorAll('#women-product-list, #men-product-list').forEach(container => {
            container.addEventListener('input', (e) => {
                if (e.target.classList.contains('rentDays')) {
                    const card = e.target.closest('.product-card');
                    const priceEl = card.querySelector('.product-price');
                    const durationEl = card.querySelector('.price-duration');
                    const basePrice = parseInt(priceEl.dataset.basePrice);
                    const days = parseInt(e.target.value) || 1;
                    const newPrice = Math.round((basePrice / 3) * days);
                    priceEl.textContent = `‡∏ø${newPrice}`;
                    durationEl.textContent = `/${days} ‡∏ß‡∏±‡∏ô`;
                }
            });
            container.addEventListener('click', (e) => {
                if (e.target.classList.contains('rent-button')) {
                    if (!loggedInUser) { alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤'); openModal('login'); return; }
                    const card = e.target.closest('.product-card');
                    const productId = parseInt(e.target.dataset.productId);
                    const product = productDatabase.find(p => p.id === productId);
                    const selectedSize = card.querySelector('.productSize').value;
                    const startDate = card.querySelector('.rentStartDate').value;
                    if (!selectedSize || card.querySelector('.productSize').options[card.querySelector('.productSize').selectedIndex].disabled) { alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ã‡∏™‡πå‡∏ó‡∏µ‡πà‡∏ß‡πà‡∏≤‡∏á'); return; }
                    if (!startDate) { alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ä‡πà‡∏≤'); return; }
                    const days = parseInt(card.querySelector('.rentDays').value);
                    const price = parseInt(card.querySelector('.product-price').textContent.replace('‡∏ø', ''));
                    cart.push({ id: productId, name: product.name, size: selectedSize, startDate, days, price });
                    alert(`‡πÄ‡∏û‡∏¥‡πà‡∏° '${product.name} (‡πÑ‡∏ã‡∏™‡πå ${selectedSize.toUpperCase()})' ‡∏•‡∏á‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß`);
                    renderCartItems();
                }
            });
        });

        document.getElementById('cartItemsContainer').addEventListener('click', (e) => {
            if (e.target.classList.contains('remove-from-cart')) {
                cart.splice(e.target.dataset.index, 1);
                renderCartItems();
            }
        });

        document.getElementById('searchButton').addEventListener('click', () => {
            searchBar.classList.toggle('hidden');
            searchInput.focus();
        });

        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase().trim();
            if (searchTerm === '') { displayAllProducts(); return; }
            const filteredProducts = productDatabase.filter(p => p.name.toLowerCase().includes(searchTerm) || p.brand.toLowerCase().includes(searchTerm));
            renderProducts(filteredProducts.filter(p => p.category === 'women'), 'women-product-list');
            renderProducts(filteredProducts.filter(p => p.category === 'men'), 'men-product-list');
        });
       
        displayAllProducts();
        updateCartCounter();
    });
    </script>
</body>
</html>
